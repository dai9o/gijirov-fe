# 議員発言・行政答弁シミュレーター (フロントエンド)

## これは何

議員発言・行政答弁シミュレーターのフロントエンドアプリケーション。

動作には、[議員発言・行政答弁シミュレーター (バックエンド)](https://github.com/dai9o/gijirov-be) の動作するサーバーが別に必要である。

## インストール

### Node.js のインストール

実行環境に [Node.js](https://nodejs.org/) がインストールされていることを確認したのち、以下の手順を実行する。

### 依存パッケージのインストール

本リポジトリをカレントディレクトリに設定し、以下のコマンドで必要なパッケージをインストールする。

```
npm install
```

### .env.local の設定

リポジトリ直下に空のファイル `.env.local` を作成し、以下を記述する。

```
NEXT_PUBLIC_API_URL=<バックエンドサーバーのアドレス>
```

`<バックエンドサーバーのアドレス>` を、議員発言・行政答弁シミュレーター (バックエンド) が動作するサーバーアドレスに書き換える。

例えば、議員発言・行政答弁シミュレーター (バックエンド) がアドレス `192.168.x.x:5000` 上で動作している場合は、以下のように書き換える。

```
NEXT_PUBLIC_API_URL=http://192,168.x.x:5000
```

## 実行

### サーバーの実行

本リポジトリをカレントディレクトリに設定し、コマンド `npm run dev` を実行する（または `npm run build` を実行後、`npm run start` を実行する）。

```
$ npm run dev

> gijirov-fe@0.1.0 dev
> next dev

- info Loaded env from gijirov-fe/.env.local
- ready started server on [::]:3000, url: http://localhost:3000
```

これを実行すると、`started server on` に続けて表示されているアドレスにサーバーが開始される。デフォルトではローカルホスト 3000 番ポート (`127.0.0.1:3000` または `localhost:3000`) にサーバーが開始される。

ホストマシン (`npm run dev` コマンドを実行したマシン) だけではなく、ネットワーク上のすべての端末からアクセス可能であり、`192.168.x.x:3000` (`<ホストマシンのIPアドレス>:3000`) からアクセスできる。

ウェブブラウザでこれらのアドレスにアクセスすると、シミュレーターシステムのインターフェースが表示される。このページからシステムを利用することができる。

サーバーを終了するには CTRL+C を押す。

### 任意のポート番号でサーバーを開始する

例えば 8000 番ポートでサーバーを開始するように設定する場合、本リポジトリ直下の `package.json` にある `"dev"` 及び `"start"` の値を、以下のように書き換える。

``` json
{
  "scripts": {
    "dev": "next dev -p 8000",
    "start": "next start -p 8000",
  },
}
```
